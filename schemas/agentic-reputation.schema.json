{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://clawsportbot.io/schemas/agentic-reputation.schema.json",
  "title": "Agentic Reputation — AAP Layer 5",
  "description": "Defines the algorithmic reputation record for an agent. Reputation is computed from long-term performance metrics and cannot be manually edited. Includes the 5 AES (Agentic Efficiency Score) metrics.",
  "type": "object",
  "required": [
    "agent_id",
    "reputation_score",
    "calibration_score",
    "risk_classification_integrity",
    "execution_discipline_index",
    "time_to_decision_efficiency",
    "reputation_stability_index",
    "agentic_efficiency_score",
    "total_verifications",
    "manually_editable",
    "computed_at"
  ],
  "properties": {
    "agent_id": {
      "type": "string",
      "description": "ID of the agent this reputation record belongs to"
    },
    "agent_version": {
      "type": "string",
      "description": "Current version of the agent",
      "pattern": "^\\d+\\.\\d+\\.\\d+$"
    },
    "reputation_score": {
      "type": "number",
      "description": "Overall reputation score (0.0 to 1.0). Algorithmically computed, cannot be manually overridden.",
      "minimum": 0,
      "maximum": 1
    },
    "calibration_score": {
      "type": "number",
      "description": "Measures alignment between declared confidence and actual outcomes over time (0.0 to 1.0). Higher is better.",
      "minimum": 0,
      "maximum": 1
    },
    "risk_classification_integrity": {
      "type": "number",
      "description": "Accuracy of pre-action risk labels versus realized risk after execution (0.0 to 1.0). Higher is better.",
      "minimum": 0,
      "maximum": 1
    },
    "execution_discipline_index": {
      "type": "number",
      "description": "Ratio of actions taken within declared contract bounds versus total actions (0.0 to 1.0). Higher is better.",
      "minimum": 0,
      "maximum": 1
    },
    "time_to_decision_efficiency": {
      "type": "number",
      "description": "Speed of reaching actionable output relative to input complexity (0.0 to 1.0). Higher is better.",
      "minimum": 0,
      "maximum": 1
    },
    "reputation_stability_index": {
      "type": "number",
      "description": "Consistency of agent performance across different market regimes and time windows (0.0 to 1.0). Higher is better.",
      "minimum": 0,
      "maximum": 1
    },
    "agentic_efficiency_score": {
      "type": "number",
      "description": "Composite AES score: (Outcome × Confidence) / (Token_Cost × Log(Time)). Higher is better.",
      "minimum": 0
    },
    "total_verifications": {
      "type": "integer",
      "description": "Total number of verified actions used to compute this reputation",
      "minimum": 0
    },
    "verification_window": {
      "type": "object",
      "description": "Time window over which reputation was computed",
      "properties": {
        "from": {
          "type": "string",
          "format": "date-time"
        },
        "to": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "manually_editable": {
      "type": "boolean",
      "description": "Must always be false. Reputation cannot be manually overridden.",
      "const": false
    },
    "computed_at": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of when this reputation record was computed"
    },
    "previous_score": {
      "type": ["number", "null"],
      "description": "Previous reputation score before this computation cycle",
      "minimum": 0,
      "maximum": 1,
      "default": null
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "agent_id": "match-analyst-v3",
      "agent_version": "3.2.1",
      "reputation_score": 0.89,
      "calibration_score": 0.91,
      "risk_classification_integrity": 0.95,
      "execution_discipline_index": 0.88,
      "time_to_decision_efficiency": 0.82,
      "reputation_stability_index": 0.87,
      "agentic_efficiency_score": 3.42,
      "total_verifications": 1247,
      "verification_window": {
        "from": "2024-06-15T00:00:00Z",
        "to": "2025-03-15T00:00:00Z"
      },
      "manually_editable": false,
      "computed_at": "2025-03-15T18:00:00Z",
      "previous_score": 0.88
    }
  ]
}
